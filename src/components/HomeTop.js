import React, { useState } from "react";
import PropTypes from "prop-types";
import posed from "react-pose";

const Words = React.forwardRef((props, ref) => (
  <svg
    ref={ref}
    {...props}
    x="0px"
    y="0px"
    width="383.4px"
    height="51.5px"
    viewBox="0 0 383.4 51.5"
    className="home-page--logo--words"
  >
    <path
      d="M209.9,26.2L191.6,2.3c-0.1-0.2-0.2-0.4,0.1-0.6l0.4-0.3c0.3-0.1,0.4,0.1,0.6,0.2l17.9,23.5l17.9-23.5
        c0.1-0.2,0.3-0.3,0.6-0.2l0.4,0.3c0.3,0.2,0.2,0.4,0.1,0.6l-18.3,23.9v23.4c0,0.3-0.2,0.5-0.5,0.5h-0.3c-0.3,0-0.5-0.2-0.5-0.5V26.2
        z M257.9,0.8c14,0,25.1,11.1,25.1,25.1c0,14-11.2,24.9-25.1,24.9c-14,0-25.1-11-25.1-24.9C232.8,11.9,243.9,0.8,257.9,0.8z
         M257.9,49.5c13.3,0,23.9-10.4,23.9-23.7c0-13.3-10.6-23.8-23.9-23.8c-13.3,0-23.8,10.5-23.8,23.8C234.1,39.1,244.6,49.5,257.9,49.5
        z M316.7,0.8c7.1,0,12.1,2.5,16.9,6.5c0.1,0.1,0.2,0.3,0.1,0.6l-0.3,0.4c-0.2,0.2-0.4,0.1-0.6,0c-4.5-3.9-9.4-6.2-16-6.2
        c-13.3,0-23.9,10.5-23.9,23.8c0,13.3,10.7,23.7,23.9,23.7c9.3,0,14.9-3.6,16.3-4.8V28.4h-15.8c-0.3,0-0.5-0.2-0.5-0.5v-0.3
        c0-0.2,0.2-0.4,0.5-0.4h16.5c0.3,0,0.5,0.2,0.5,0.4v17.6c-0.5,0.8-6.6,5.6-17.6,5.6c-14,0-25.2-11-25.2-24.9
        C291.5,11.9,302.7,0.8,316.7,0.8z M361.6,0.3c0.1-0.1,0.2-0.3,0.3-0.3h0.1c0.1,0,0.3,0.1,0.3,0.3l21,49.3c0.1,0.2,0,0.3-0.2,0.4
        l-0.6,0.2c-0.2,0.1-0.3-0.1-0.3-0.2L376,35.5h-28.4L341.4,50c-0.1,0.1-0.1,0.3-0.3,0.2l-0.6-0.2c-0.2-0.1-0.3-0.2-0.2-0.4L361.6,0.3
        z M375.4,34.3L362,2.5l-13.8,31.8H375.4z M0,1.9c-0.1-0.2,0-0.3,0.3-0.4L1,1.3c0.3-0.1,0.3,0.1,0.4,0.2l24.1,47.4L50.3,1.5
        c0.1-0.1,0.2-0.3,0.4-0.2l0.7,0.2c0.3,0.1,0.3,0.2,0.3,0.4L26.1,51.2c-0.3,0.4-0.7,0.4-1,0L0,1.9z M66.8,1.9c0-0.3,0.2-0.5,0.6-0.5
        h33.9c0.3,0,0.6,0.2,0.6,0.5v0.3c0,0.3-0.2,0.5-0.6,0.5h-33v21.4h29c0.3,0,0.6,0.2,0.6,0.5v0.3c0,0.3-0.2,0.5-0.6,0.5h-29v23.4h33
        c0.3,0,0.6,0.2,0.6,0.5v0.3c0,0.3-0.2,0.5-0.6,0.5H67.4c-0.3,0-0.6-0.2-0.6-0.5V1.9z M116.4,49.2L135,25.3l-17.7-23
        c-0.2-0.2-0.2-0.4,0.1-0.6l0.5-0.3c0.3-0.1,0.5,0,0.7,0.2L136,24.2l17.5-22.6c0.2-0.2,0.3-0.3,0.7-0.2l0.5,0.3
        c0.3,0.2,0.2,0.4,0.1,0.6l-17.8,23l18.7,23.9c0.2,0.2,0.2,0.4-0.1,0.6l-0.5,0.3c-0.3,0.1-0.5,0-0.7-0.2L136,26.4l-18.3,23.5
        c-0.2,0.2-0.3,0.3-0.7,0.2l-0.5-0.3C116.2,49.6,116.3,49.4,116.4,49.2z"
    />
  </svg>
));

const Logo = React.forwardRef((props, ref) => (
  <svg
    x="0px"
    y="0px"
    width="102px"
    height="102px"
    viewBox="0 0 102 102"
    className="home-page--logo--graphic"
    style={{ stroke: "#000000", strokeWidth: "1px", fill: "none" }}
  >
    <path
      ref={ref}
      {...props}
      d="M50.9,90.7c3.1,0,5.9-0.4,8.3-0.9c2.4-0.5,4.5-1.2,6.3-1.8c3.6-1.3,6.1-2.7,8.2-3.6c2-0.9,3.6-1.4,5-1.6
        c1.5-0.1,2.9,0.1,4.7,0.6c-0.5-1.8-0.7-3.2-0.6-4.7s0.6-3,1.6-5c0.9-2,2.2-4.6,3.6-8.2c0.7-1.8,1.3-3.9,1.8-6.3
        c0.5-2.4,0.9-5.2,0.9-8.3c6.3,1.5,9.4,4.7,10.4,8.4c0.5,1.8,0.5,3.8,0.2,5.8c-0.3,2-1,3.9-1.8,5.8s-1.6,3.5-2.3,5s-1.3,3-1.8,4.5
        s-0.8,3.3-1,5.4s-0.3,4.6-0.6,7.8c-3.2,0.2-5.7,0.3-7.8,0.5c-2.1,0.2-3.8,0.5-5.4,1c-1.6,0.4-3,1-4.6,1.7c-1.5,0.7-3.1,1.5-5,2.3
        s-3.8,1.4-5.8,1.8c-2,0.3-3.9,0.4-5.8-0.1C55.7,100,52.5,96.9,50.9,90.7z M1,59.4c-0.5,1.8-0.5,3.8-0.1,5.8s1,3.9,1.8,5.8
        s1.6,3.5,2.3,5s1.3,3,1.7,4.6c0.4,1.6,0.8,3.3,1,5.4s0.3,4.6,0.5,7.8c3.2,0.2,5.6,0.3,7.8,0.6c2.1,0.2,3.8,0.6,5.4,1
        c1.6,0.5,3,1.1,4.5,1.8c1.5,0.7,3.1,1.5,5,2.3s3.9,1.4,5.8,1.8c2,0.3,4,0.3,5.8-0.2c3.7-1,6.9-4.1,8.4-10.4c-3.1,0-5.9-0.4-8.3-0.9
        c-2.4-0.5-4.5-1.2-6.3-1.8c-3.6-1.3-6.1-2.7-8.2-3.6c-2-0.9-3.5-1.4-5-1.6c-1.5-0.1-2.9,0.1-4.6,0.6c0.5-1.8,0.7-3.2,0.6-4.7
        s-0.6-3-1.5-5s-2.2-4.6-3.6-8.2c-0.7-1.8-1.3-3.9-1.8-6.3c-0.5-2.4-0.9-5.2-0.9-8.3C5,52.6,2,55.8,1,59.4z M42.5,1.1
        c-1.8-0.5-3.8-0.5-5.8-0.1s-3.9,1-5.8,1.8c-1.9,0.8-3.5,1.6-5,2.3s-3,1.3-4.6,1.7c-1.6,0.4-3.3,0.8-5.4,1C13.8,8,11.3,8.1,8.1,8.3
        c-0.2,3.2-0.3,5.6-0.6,7.8c-0.2,2.1-0.6,3.8-1,5.4s-1.1,3-1.8,4.5s-1.5,3.1-2.3,5S1,34.9,0.7,36.8c-0.3,2-0.3,4,0.2,5.8
        c1,3.7,4.1,6.9,10.4,8.4c0-3.1,0.4-5.9,0.9-8.3c0.5-2.4,1.1-4.5,1.8-6.3c1.3-3.6,2.7-6.1,3.6-8.2c0.9-2,1.4-3.5,1.5-5
        s-0.1-2.9-0.6-4.6c1.8,0.5,3.2,0.7,4.6,0.6c1.5-0.1,3-0.6,5-1.5s4.6-2.2,8.2-3.6c1.8-0.7,3.9-1.3,6.3-1.8c2.4-0.5,5.2-0.9,8.3-0.9
        C49.4,5.1,46.2,2.1,42.5,1.1z M100.9,42.6c0.5-1.8,0.5-3.8,0.1-5.8c-0.3-2-1-3.9-1.8-5.8c-0.8-1.9-1.6-3.5-2.3-5
        c-0.7-1.5-1.3-3-1.7-4.6c-0.4-1.6-0.8-3.3-1-5.4s-0.3-4.6-0.5-7.8c-3.2-0.2-5.6-0.3-7.8-0.6c-2.1-0.2-3.8-0.6-5.4-1s-3-1.1-4.5-1.8
        s-3.1-1.5-5-2.3S67.1,1,65.2,0.7c-2-0.3-4-0.3-5.8,0.2c-3.7,1-6.9,4.1-8.4,10.4c3.1,0,5.9,0.4,8.3,0.9c2.4,0.5,4.5,1.1,6.3,1.8
        c3.6,1.3,6.1,2.7,8.2,3.6c2,0.9,3.6,1.4,5,1.5c1.5,0.1,2.9-0.1,4.7-0.6c-0.5,1.8-0.7,3.2-0.6,4.6s0.6,3,1.6,5c0.9,2,2.2,4.6,3.6,8.2
        c0.7,1.8,1.3,3.9,1.8,6.3c0.5,2.4,0.9,5.2,0.9,8.3C96.8,49.5,99.9,46.3,100.9,42.6z M51.1,14.2C71.5,14.2,88,30.7,88,51.1
        S71.5,88,51.1,88s-37-16.5-37-36.9S30.7,14.2,51.1,14.2z M49.1,56.1l-6.9,9l-0.5,0.6l0.5,0.6l7.9,10.3l0.2,0.2l0.8,1l0.8-1l8-10.4
        l0.1-0.2l0.5-0.6l-0.6-0.5L39.5,38.6l-0.1-0.1l-0.3-0.4h-0.5H22.5h-2l1.2,1.6L38,61l0.8,1l0.8-1l0.7-0.9l0.5-0.6l-0.5-0.6L26.8,41.2
        h10.9l18.9,24.6l-5.4,7.1l-5.4-7.1l5.4-7L49.1,56.1z M79.6,38.1H63.5H63l-0.3,0.4L51,53.5l2,2.5l11.5-14.9h10.8L61.8,58.8l-0.4,0.6
        l0.4,0.6l0.6,1l0.8,1.2l0.9-1.1l16.4-21.4l1.2-1.6H79.6z"
    />
  </svg>
));

const LogoPose = posed.div({
  start: {
    opacity: 0,
    scale: 5
  },
  end: {
    opacity: 1,
    delay: 400,
    scale: 1,
    transition: {
      duration: 400
    }
  }
});

const WordPose = posed(Logo)({
  start: {
    // width: 0,
    // overflow: "hidden"
    strokeDashoffset: "1253px",
    strokeDasharray: "1253px"
  },
  end: {
    // width: "auto",
    // strokeDasharray: "1253px",
    strokeDashoffset: "1253px",
    delay: 1000,
    transition: {
      strokeDashoffset: {
        type: "keyframes",
        values: ["1253px", "0px"],
        times: [0, 1],
        duration: 30000
      }
    }
  }
});

const HomeTop = ({ html, frontmatter: { background_image } }) => {
  const [pose, setPose] = useState("end");
  //   setInterval(function() {
  //     if (pose === "end") {
  //       setPose("start");
  //     } else {
  //       setPose("end");
  //     }
  //   }, 3000);
  return (
    <>
      <div
        className="vex-banner--slide bg-full d-flex justify-content-center align-items-center"
        style={{
          backgroundImage: `url("${background_image.publicURL}")`
        }}
      >
        <LogoPose initialPose="start" pose="end">
          <Logo />
        </LogoPose>
        <WordPose initialPose="start" pose={pose} />
      </div>
    </>
  );
};

HomeTop.propTypes = {
  id: PropTypes.string,
  title: PropTypes.string,
  html: PropTypes.string,
  background_image: PropTypes.shape({
    publicURL: PropTypes.string
  })
};

export default HomeTop;
